import os

caminho = "estudos.txt"

os.makedirs(os.path.dirname(caminho),
            exist_ok=True) if os.path.dirname(caminho) else None


def registrar_estudo():
    materia = input("Matéria: ")
    tempo = input("Tempo (min): ")
    prioridade = input("Prioridade (Alta, Média, Baixa)")
    with open(caminho, 'a')as arquivo:
        arquivo.write(
            f"Matéria: {materia}, Tempo: {tempo}, Prioridade: {prioridade}\n")
    print("Estudo Registrado")


def mostrar():
    print("Histórico de Estudo:")

    with open(caminho, 'r')as arquivo:
        print(arquivo.read())
    try:
        with open(caminho, 'r') as arquivo:
            conteudo = arquivo.read()
            if conteudo:
                print(conteudo)
            else:
                print("Nenhum estudo registrado.")
    except:
        FileNotFoundError


while True:
    print("\nMenu :")
    print("1. Registrar Estudo")
    print("2. Mostrar Histórico de Estudo")
    print("3. Sair")
    op = input("Escolha uma opção: ")
    if op == '1':
        registrar_estudo()
    elif op == '2':
        mostrar()
    elif op == '3':
        print("Saindo...")
        break
    else:
        print("Opção inválida. Tente novamente.")
